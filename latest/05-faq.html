<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>FAQ</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">buddy/buddy-sign</span> <span class="project-version"></span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="00-intro.html"><div class="inner"><span>Introduction</span></div></a></li><li class="depth-1 "><a href="01-jwt.html"><div class="inner"><span>JWT (Json Web Token)</span></div></a></li><li class="depth-1 "><a href="02-jws.html"><div class="inner"><span>JWS (Json Web Signature)</span></div></a></li><li class="depth-1 "><a href="03-jwe.html"><div class="inner"><span>JWE (Json Web Encryption)</span></div></a></li><li class="depth-1 "><a href="04-cms.html"><div class="inner"><span>CMS (Compact Message Signing)</span></div></a></li><li class="depth-1  current"><a href="05-faq.html"><div class="inner"><span>FAQ</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>buddy</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sign</span></div></div></li><li class="depth-3 branch"><a href="buddy.sign.compact.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>compact</span></div></a></li><li class="depth-3"><a href="buddy.sign.jwe.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jwe</span></div></a></li><li class="depth-4"><a href="buddy.sign.jwe.cek.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cek</span></div></a></li><li class="depth-3 branch"><a href="buddy.sign.jws.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>jws</span></div></a></li><li class="depth-3 branch"><a href="buddy.sign.jwt.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jwt</span></div></a></li><li class="depth-3"><a href="buddy.sign.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#faq" id="faq"></a>FAQ</h1>
<h2><a href="#when-i-should-use-jwe-and-when-jws" id="when-i-should-use-jwe-and-when-jws"></a>When I should use JWE and when JWS?</h2>
<p>The main difference between JWS and JWE, is that JWE encrypts the claims with an algorithm that uses a one time key. Both provides good security, but JWE also provides privacy of the data.</p>
<p>If you only stores the userid or something similar, JWS is recommended, because it has less overhead. But if you are storing in the token claims that require privacy, JWE is the solution that should be used.</p>
<h2><a href="#ecdsa-vs-eddsa-" id="ecdsa-vs-eddsa-"></a>ECDSA vs EdDSA ?</h2>
<p>ECDSA algorithm has one very weak point - it requires cryptographically secure random numbers not only for key generation but also for EVERY signature creation.</p>
<p>If attacker has two signatures for same data and can guess random number used for their creation, then she can calculate private key (see PS3 ECDSA exploit for example).</p>
<p>Ed25519 on the other hand is specifically designed to avoid this kind of errors, it also has very good performance characteristics both for signing and verification, see <a href="https://tools.ietf.org/html/rfc8032">https://tools.ietf.org/html/rfc8032</a><a href="RFC8032">RFC8032</a> for details</p>
<h2><a href="#how-i-can-generate-keypairs" id="how-i-can-generate-keypairs"></a>How I can generate keypairs?</h2>
<p>Example on how to generate one Elliptic Curve DSA keypair:</p>
<pre><code class="language-bash"># Generating params file
openssl ecparam -name prime256v1 -out ecparams.pem

# Generate a private key from params file
openssl ecparam -in ecparams.pem -genkey -noout -out ecprivkey.pem

# Generate a public key from private key
openssl ec -in ecprivkey.pem -pubout -out ecpubkey.pem
</code></pre>
<p>Example on how to generate one RSA keypair:</p>
<pre><code class="language-bash"># Generate aes256 encrypted private key
openssl genrsa -aes256 -out privkey.pem 2048

# Generate public key from previously created private key.
openssl rsa -pubout -in privkey.pem -out pubkey.pem
</code></pre>
</div></div></div></body></html>